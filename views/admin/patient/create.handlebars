<div id="behaviour_generator" class="form-row" hidden>
    <div class="col-2">
        <select name="behaviour_question_type" id="behaviour_question_type" class="form-control " required>
            <option value="Question Type" selected disabled> </option>
            <option value="counter">Counter</option>
            <option value="true_or_false">True or False</option>
        </select>
    </div>
    <div class="col">
        <input type="text" name="behaviour_prompt" placeholder="Behaviour Prompt" id="behaviour_prompt"
            class="form-control" required />
    </div>
    <div class="col-2">
        <button type="button" onclick="remove_behaviour(this)" class="btn btn-danger">
            Delete
        </button>
    </div>

    <br />
    <br />
</div>

<div class="card dashboard">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="/api/v2/patient/create">Create</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/api/v2/patient/update">Manage</a>
            </li>
        </ul>
    </div>
    <div class="card-body">
        <form action="/api/v2/patient/create" method="POST">
            <div class="form-row">
                <div class="col-4">
                    <h3>Patient</h3>
                </div>
                <div class="col">

                </div>
                <div class="col-1">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </div>
            <div class="form-row">
                <div class="col">
                    <label for="first_name">First Name</label><br />
                    <input type="text" name="first_name" id="first_name" class="form-control" required />
                </div>
                <div class="col">
                    <label for="last_name">Last Name</label><br />
                    <input type="text" name="last_name" id="last_name" class="form-control" required />
                </div>
            </div>

            <div>
                <label for="department">Department</label><br />
                <select name="department" id="department" class="form-control" required>
                    <option value="" selected disabled></option>
                    {{#my_departments}}
                    <option name={{name}} value={{name}} id={{_id}}>{{name}}</option>
                    {{/my_departments}}
                </select>
            </div>

            <br>
            <hr>
            <br>

            <div id="new_patient">
                <div class="form-row">
                    <div class="col-2">
                        <h3>Behaviours</h3>
                    </div>
                    <div class="col">

                    </div>
                    <div class="col-2">
                        <button type="button" onclick="add_behaviour();" class="btn btn-success">
                            Add Behaviour
                        </button>
                    </div>
                </div>
            </div>
        </form>

    </div>
</div>


<script>
    function add_behaviour() {
        var behaviour_generator = document.getElementById(
            "behaviour_generator"
        );

        var dupe = behaviour_generator.cloneNode(true);
        dupe.hidden = false;

        document.getElementById("new_patient").appendChild(dupe);
    }

    function remove_behaviour(element) {
        element.parentNode.parentNode.parentNode.removeChild(element.parentNode.parentNode)
    }
</script>

<style>
    .dashboard {
        margin: auto;
        padding: 0px;
        width: 70%;
    }

    @media only screen and (max-width: 600px) {
        .dashboard {
            width: 100%;
            margin: auto;
            padding: 0px;
        }
    }
</style>